<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest Diagnostic: What Kind of Journey Are You On?</title>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --ink: #1a1a1a;
            --paper: #f9faf8;
            --accent: #5a7a5a;
            --accent-dark: #4a6a4a;
            --accent-light: #e8efe8;
            --accent-lighter: #f0f5f0;
            --muted: #6b6b6b;
            --border: #d4ddd4;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--paper);
            color: var(--ink);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 720px;
            margin: 0 auto;
            padding: 3rem 1.5rem;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }

        .quiz-header h1 {
            font-family: 'Instrument Serif', serif;
            font-size: clamp(2rem, 5vw, 2.75rem);
            font-weight: 400;
            margin-bottom: 1rem;
            letter-spacing: -0.02em;
        }

        .quiz-header p {
            color: var(--muted);
            font-size: 1.05rem;
            max-width: 500px;
            margin: 0 auto;
        }

        .progress-container { margin-bottom: 2.5rem; }
        .progress-bar { height: 3px; background: var(--border); border-radius: 2px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--accent); transition: width 0.4s ease; width: 0%; }
        .progress-text { text-align: right; font-size: 0.85rem; color: var(--muted); margin-top: 0.5rem; }

        .question-section { display: none; animation: fadeIn 0.4s ease; }
        .question-section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-number { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent); margin-bottom: 0.75rem; }
        .question-text { font-family: 'Instrument Serif', serif; font-size: 1.5rem; margin-bottom: 0.5rem; line-height: 1.4; }
        .question-instruction { font-size: 0.9rem; color: var(--muted); margin-bottom: 1.5rem; font-style: italic; }

        .options-list { list-style: none; display: flex; flex-direction: column; gap: 0.75rem; }
        .option-item { position: relative; }
        .option-item input { position: absolute; opacity: 0; cursor: pointer; }
        .option-label { display: block; padding: 1rem 1.25rem; background: white; border: 1px solid var(--border); border-radius: 8px; cursor: pointer; transition: all 0.2s ease; font-size: 0.95rem; }
        .option-label:hover { border-color: var(--accent); background: #fff; }
        .option-item input:checked + .option-label { border-color: var(--accent); background: var(--accent-light); }

        .option-label::before { content: ''; display: inline-block; width: 18px; height: 18px; border: 2px solid var(--border); border-radius: 4px; margin-right: 12px; vertical-align: middle; transition: all 0.2s ease; }
        .option-item input:checked + .option-label::before { background: var(--accent); border-color: var(--accent); background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3E%3C/svg%3E"); }

        .single-select .option-label::before { border-radius: 50%; }
        .single-select .option-item input:checked + .option-label::before { background-image: none; box-shadow: inset 0 0 0 4px white; }

        .text-input-wrapper { margin-bottom: 1.5rem; }
        .text-input { width: 100%; padding: 1rem 1.25rem; font-family: 'DM Sans', sans-serif; font-size: 1rem; border: 1px solid var(--border); border-radius: 8px; background: white; transition: border-color 0.2s ease; }
        .text-input:focus { outline: none; border-color: var(--accent); }
        .text-input::placeholder { color: #aaa; }

        .nav-buttons { display: flex; justify-content: space-between; margin-top: 2.5rem; padding-top: 2rem; border-top: 1px solid var(--border); }
        .btn { padding: 0.875rem 2rem; font-family: 'DM Sans', sans-serif; font-size: 0.95rem; font-weight: 500; border-radius: 6px; cursor: pointer; transition: all 0.2s ease; }
        .btn-back { background: transparent; border: 1px solid var(--border); color: var(--muted); }
        .btn-back:hover { border-color: var(--ink); color: var(--ink); }
        .btn-next { background: var(--ink); border: 1px solid var(--ink); color: white; }
        .btn-next:hover { background: #333; }
        .btn-next:disabled { background: var(--border); border-color: var(--border); cursor: not-allowed; }
        .btn-hidden { visibility: hidden; }

        .intro-section { text-align: center; padding: 2rem 0; }
        .intro-section p { margin-bottom: 1.25rem; font-size: 1.05rem; }
        .intro-section .lead { font-family: 'Instrument Serif', serif; font-size: 1.35rem; font-style: italic; color: var(--ink); }

        .quiz-meta { display: flex; justify-content: center; gap: 2rem; margin: 1.5rem 0; padding: 1rem; background: var(--accent-lighter); border-radius: 8px; font-size: 0.9rem; color: var(--muted); }
        .quiz-meta span { display: flex; align-items: center; gap: 0.5rem; }
        .btn-start { margin-top: 2rem; padding: 1rem 3rem; font-size: 1rem; }

        .results-section { display: none; animation: fadeIn 0.5s ease; }
        .results-section.active { display: block; }

        .result-type { text-align: center; padding: 2.5rem; background: white; border-radius: 12px; border: 1px solid var(--border); margin-bottom: 2rem; }
        .result-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.15em; color: var(--accent); margin-bottom: 0.75rem; }
        .result-title { font-family: 'Instrument Serif', serif; font-size: 2.25rem; margin-bottom: 1rem; }
        .result-subtitle { color: var(--muted); font-size: 1.1rem; max-width: 480px; margin: 0 auto; }

        .result-card { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 2rem; margin-bottom: 1.5rem; }
        .result-card h3 { font-family: 'Instrument Serif', serif; font-size: 1.25rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .result-card h3::before { content: ''; display: inline-block; width: 8px; height: 8px; background: var(--accent); border-radius: 50%; }
        .result-card p { color: var(--muted); margin-bottom: 1rem; }
        .result-card p:last-child { margin-bottom: 0; }

        .explainer-box { background: var(--accent-lighter); border-radius: 8px; padding: 1.25rem; margin-top: 1rem; font-size: 0.9rem; }
        .explainer-box strong { color: var(--accent-dark); }
        .key-insight { background: var(--accent-light); border-left: 3px solid var(--accent); padding: 1rem 1.25rem; margin: 1rem 0; font-style: italic; }

        .closing-message { text-align: center; padding: 2rem; background: var(--accent-light); border-radius: 12px; margin-top: 2rem; }
        .closing-message p { font-family: 'Instrument Serif', serif; font-size: 1.35rem; font-style: italic; margin-bottom: 1.5rem; color: var(--ink); }
        .closing-message .tagline { font-family: 'DM Sans', sans-serif; font-size: 1rem; font-style: normal; font-weight: 500; color: var(--accent-dark); }

        .score-bars { display: flex; flex-direction: column; gap: 1rem; margin: 1.5rem 0; }
        .score-bar-item { display: flex; align-items: center; gap: 1rem; }
        .score-bar-label { width: 120px; font-size: 0.85rem; font-weight: 500; }
        .score-bar-track { flex: 1; height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; }
        .score-bar-fill { height: 100%; background: var(--accent); border-radius: 4px; transition: width 0.6s ease; }
        .score-bar-value { width: 40px; text-align: right; font-size: 0.85rem; color: var(--muted); }

        .what-now { background: white; border: 2px solid var(--accent); border-radius: 12px; padding: 2rem; margin: 2rem 0; }
        .what-now h3 { font-family: 'Instrument Serif', serif; font-size: 1.35rem; margin-bottom: 1rem; color: var(--accent-dark); }
        .what-now p { margin-bottom: 1rem; }
        .action-step { background: var(--accent-lighter); padding: 1rem 1.25rem; border-radius: 8px; margin-top: 1rem; }
        .action-step strong { display: block; color: var(--accent-dark); margin-bottom: 0.25rem; }

        .btn-retake { display: block; margin: 2rem auto 0; background: transparent; border: 1px solid var(--ink); color: var(--ink); }
        .btn-retake:hover { background: var(--ink); color: white; }

        .email-capture { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 2rem; margin-top: 2rem; text-align: center; }
        .email-capture h3 { font-family: 'Instrument Serif', serif; font-size: 1.35rem; margin-bottom: 0.5rem; }
        .email-capture > p { color: var(--muted); margin-bottom: 1rem; font-size: 0.95rem; }
        .privacy-note { font-size: 0.8rem; color: var(--muted); margin-top: 1rem; text-align: center; }

        /* Save button - NEW */
        .btn-save {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            background: var(--accent);
            border: 1px solid var(--accent);
            color: white;
        }
        .btn-save:hover {
            background: var(--accent-dark);
            border-color: var(--accent-dark);
        }
        .save-buttons {
            text-align: center;
            margin-top: 1.5rem;
        }

        @media (max-width: 600px) {
            .container { padding: 2rem 1rem; }
            .quiz-meta { flex-direction: column; gap: 0.5rem; }
            .nav-buttons { flex-direction: column-reverse; gap: 1rem; }
            .btn { width: 100%; text-align: center; }
            .btn-hidden { display: none; }
            .score-bar-label { width: 90px; font-size: 0.8rem; }
        }

        /* Print/Save styles - NEW */
        @media print {
            .quiz-header, .nav-buttons, .btn-retake, .btn-save, .save-buttons, .email-capture, .progress-container {
                display: none !important;
            }
            .results-section {
                display: block !important;
            }
            .container {
                max-width: 100%;
                padding: 1rem;
            }
            .result-card, .what-now, .closing-message {
                break-inside: avoid;
                page-break-inside: avoid;
            }
            body {
                background: white;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="quiz-header">
            <h1>What Kind of Journey Are You On?</h1>
            <p>A diagnostic to help you understand whether you're pursuing a goal, embarking on a quest, or answering a deeper call.</p>
        </header>

        <div id="intro" class="intro-section question-section active">
            <p>You have something you want to achieve. Maybe you've set goals, made plans, tried different approaches. Some worked. Some didn't.</p>
            <p>But here's what most people miss: <strong>not all ambitious undertakings are the same.</strong></p>
            <p>There's a structural difference between a goal you can plan and execute, a quest that will test and change you along the way, and a deeper call that will remake who you are entirely.</p>
            <p>Each requires a different approach, different tools, different preparation. Using goal-setting tools on a quest is like bringing a day-pack to an expedition.</p>
            <p class="lead">"Not all who wander are lost."</p>
            <p>Let's find out what kind of journey you're actually on.</p>
            <div class="quiz-meta">
                <span>üìù 14 questions</span>
                <span>‚è±Ô∏è 10‚Äì15 minutes</span>
            </div>
            <p style="font-size: 0.9rem; color: var(--muted);"><em>Think of something ambitious you want to accomplish. Hold it in mind as you answer these questions.</em></p>
            <button class="btn btn-next btn-start" onclick="startQuiz()">Begin the Diagnostic</button>
        </div>

        <div class="progress-container" id="progress-container" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-text"><span id="current-q">0</span> of <span id="total-q">15</span></div>
        </div>

        <div id="q0" class="question-section" data-question="0">
            <div class="question-number">Before we begin</div>
            <div class="question-text">What's the ambitious thing you're thinking about?</div>
            <div class="question-instruction">Optional, but it helps to name it‚Äîeven briefly.</div>
            <div class="text-input-wrapper">
                <input type="text" id="quest-description" class="text-input" placeholder="e.g., Starting my own business, Writing my book, Changing careers..." maxlength="200">
            </div>
            <p style="font-size: 0.85rem; color: var(--muted);">This is just for you (and helps us understand what people are working on). You can skip this if you prefer.</p>
        </div>

        <div id="q1" class="question-section" data-question="1">
            <div class="question-number">Question 1</div>
            <div class="question-text">When you imagine the end point of this thing:</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q1a" name="q1" value="goal" data-type="goal" data-label="Clear, specific, measurable end point"><label class="option-label" for="q1a">I can describe exactly what "done" looks like‚Äîspecific and measurable</label></li>
                <li class="option-item"><input type="checkbox" id="q1b" name="q1" value="quest" data-type="quest" data-label="Strong direction, final form still forming"><label class="option-label" for="q1b">I have a strong sense of direction, but the final form is still taking shape</label></li>
                <li class="option-item"><input type="checkbox" id="q1c" name="q1" value="hero" data-type="hero" data-label="Destination feels like a feeling/state"><label class="option-label" for="q1c">The destination feels more like a feeling or state than a concrete outcome</label></li>
                <li class="option-item"><input type="checkbox" id="q1d" name="q1" value="hero" data-type="hero" data-label="Will know it when I get there"><label class="option-label" for="q1d">I'll know it when I get there, but I struggle to articulate it now</label></li>
                <li class="option-item"><input type="checkbox" id="q1e" name="q1" value="quest" data-type="quest" data-label="It keeps evolving"><label class="option-label" for="q1e">It keeps evolving the more I think about it</label></li>
            </ul>
        </div>

        <div id="q2" class="question-section" data-question="2">
            <div class="question-number">Question 2</div>
            <div class="question-text">If you tried to map out the path from here to there:</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q2a" name="q2" value="goal" data-type="goal" data-label="Can create plan with milestones"><label class="option-label" for="q2a">I could create a reasonable plan with milestones and timelines</label></li>
                <li class="option-item"><input type="checkbox" id="q2b" name="q2" value="quest" data-type="quest" data-label="First steps clear, then foggy"><label class="option-label" for="q2b">I can see the first few steps clearly, then it gets foggy</label></li>
                <li class="option-item"><input type="checkbox" id="q2c" name="q2" value="hero" data-type="hero" data-label="Would be guessing the steps"><label class="option-label" for="q2c">I'd be guessing‚Äîthe honest answer is I don't know the steps yet</label></li>
                <li class="option-item"><input type="checkbox" id="q2d" name="q2" value="quest" data-type="quest" data-label="Path shifts based on factors"><label class="option-label" for="q2d">The path seems to shift depending on factors I can't control</label></li>
                <li class="option-item"><input type="checkbox" id="q2e" name="q2" value="hero" data-type="hero" data-label="Figuring out work is part of work"><label class="option-label" for="q2e">Part of the work is figuring out what the work even is</label></li>
            </ul>
        </div>

        <div id="q3" class="question-section" data-question="3">
            <div class="question-number">Question 3</div>
            <div class="question-text">What do you already know about the obstacles ahead?</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q3a" name="q3" value="goal" data-type="goal" data-label="Can name main challenges"><label class="option-label" for="q3a">I can name the main challenges‚Äîthey're fairly predictable</label></li>
                <li class="option-item"><input type="checkbox" id="q3b" name="q3" value="quest" data-type="quest" data-label="Some known, others hidden"><label class="option-label" for="q3b">I know some obstacles, but I suspect there are others I can't see yet</label></li>
                <li class="option-item"><input type="checkbox" id="q3c" name="q3" value="quest" data-type="quest" data-label="Hit unexpected walls before"><label class="option-label" for="q3c">I've hit walls before that I didn't anticipate at all</label></li>
                <li class="option-item"><input type="checkbox" id="q3d" name="q3" value="hero" data-type="hero" data-label="External manageable, internal uncertain"><label class="option-label" for="q3d">The external obstacles seem manageable; it's the internal ones I'm less sure about</label></li>
                <li class="option-item"><input type="checkbox" id="q3e" name="q3" value="hero" data-type="hero" data-label="Feels like an iceberg"><label class="option-label" for="q3e">It feels like an iceberg‚Äîwhat's visible is probably a fraction of what's there</label></li>
            </ul>
        </div>

        <div id="q4" class="question-section single-select" data-question="4">
            <div class="question-number">Question 4</div>
            <div class="question-text">When you think about who you need to be to accomplish this:</div>
            <div class="question-instruction">Select one</div>
            <ul class="options-list">
                <li class="option-item"><input type="radio" id="q4a" name="q4" value="goal" data-type="goal" data-label="Already the right person"><label class="option-label" for="q4a">I'm basically the right person‚ÄîI just need to do the work</label></li>
                <li class="option-item"><input type="radio" id="q4b" name="q4" value="quest" data-type="quest" data-label="Need to grow and stretch"><label class="option-label" for="q4b">I'll need to grow, stretch, and build some new capabilities</label></li>
                <li class="option-item"><input type="radio" id="q4c" name="q4" value="hero" data-type="hero" data-label="Can't get there as current self"><label class="option-label" for="q4c">Some part of me senses I can't get there as who I currently am</label></li>
                <li class="option-item"><input type="radio" id="q4d" name="q4" value="hero" data-type="hero" data-label="Will need to let go of parts"><label class="option-label" for="q4d">I think this will require me to let go of parts of who I've been</label></li>
            </ul>
        </div>

        <div id="q5" class="question-section" data-question="5">
            <div class="question-number">Question 5</div>
            <div class="question-text">What feels like the hardest part of this?</div>
            <div class="question-instruction">Select up to three</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q5a" name="q5" value="exec" data-type="execution" data-label="Staying consistent"><label class="option-label" for="q5a">Staying consistent‚Äîshowing up and doing the work day after day</label></li>
                <li class="option-item"><input type="checkbox" id="q5b" name="q5" value="exec" data-type="execution" data-label="Managing time/energy"><label class="option-label" for="q5b">Managing my time and energy across competing demands</label></li>
                <li class="option-item"><input type="checkbox" id="q5c" name="q5" value="nav" data-type="navigation" data-label="Decision-making"><label class="option-label" for="q5c">Figuring out what to actually do‚Äîthe decision-making</label></li>
                <li class="option-item"><input type="checkbox" id="q5d" name="q5" value="nav" data-type="navigation" data-label="Uncertainty and ambiguity"><label class="option-label" for="q5d">Dealing with uncertainty and ambiguity</label></li>
                <li class="option-item"><input type="checkbox" id="q5e" name="q5" value="trans" data-type="transformation" data-label="Staying motivated when slow"><label class="option-label" for="q5e">Staying motivated when progress is slow or invisible</label></li>
                <li class="option-item"><input type="checkbox" id="q5f" name="q5" value="trans" data-type="transformation" data-label="Handling loneliness"><label class="option-label" for="q5f">Handling the loneliness of it</label></li>
                <li class="option-item"><input type="checkbox" id="q5g" name="q5" value="trans" data-type="transformation" data-label="Trusting self through unknown"><label class="option-label" for="q5g">Trusting myself through the parts I can't plan for</label></li>
                <li class="option-item"><input type="checkbox" id="q5h" name="q5" value="nav" data-type="navigation" data-label="Not knowing if on right track"><label class="option-label" for="q5h">Not knowing if I'm on the right track</label></li>
            </ul>
        </div>

        <div id="q6" class="question-section" data-question="6">
            <div class="question-number">Question 6</div>
            <div class="question-text">When you've tried to make progress on this (or something like it) before, what happened?</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q6a" name="q6" value="goal" data-type="goal" data-label="Steady progress when disciplined"><label class="option-label" for="q6a">I made steady progress when I stayed disciplined</label></li>
                <li class="option-item"><input type="checkbox" id="q6b" name="q6" value="exec" data-type="execution" data-label="Started strong, lost momentum"><label class="option-label" for="q6b">I started strong but lost momentum</label></li>
                <li class="option-item"><input type="checkbox" id="q6c" name="q6" value="quest" data-type="quest" data-label="Unexpected walls forced pivots"><label class="option-label" for="q6c">I kept hitting unexpected walls that forced me to pivot</label></li>
                <li class="option-item"><input type="checkbox" id="q6d" name="q6" value="nav" data-type="navigation" data-label="Overwhelmed by decisions"><label class="option-label" for="q6d">I felt overwhelmed by how many decisions there were to make</label></li>
                <li class="option-item"><input type="checkbox" id="q6e" name="q6" value="trans" data-type="transformation" data-label="Stuck in head‚Äîdoubt, perfectionism"><label class="option-label" for="q6e">I got stuck in my head‚Äîdoubt, perfectionism, second-guessing</label></li>
                <li class="option-item"><input type="checkbox" id="q6f" name="q6" value="goal" data-type="goal" data-label="External circumstances"><label class="option-label" for="q6f">External circumstances got in the way</label></li>
                <li class="option-item"><input type="checkbox" id="q6g" name="q6" value="quest" data-type="quest" data-label="Not sure why stalled"><label class="option-label" for="q6g">I'm not sure why it stalled, honestly</label></li>
                <li class="option-item"><input type="checkbox" id="q6h" name="q6" value="hero" data-type="hero" data-label="Haven't tried‚Äînew territory"><label class="option-label" for="q6h">I haven't really tried before‚Äîthis is new territory</label></li>
            </ul>
        </div>

        <div id="q7" class="question-section" data-question="7">
            <div class="question-number">Question 7</div>
            <div class="question-text">What are you risking by going after this?</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q7a" name="q7" value="goal" data-type="goal" data-label="Time and energy"><label class="option-label" for="q7a">Time and energy</label></li>
                <li class="option-item"><input type="checkbox" id="q7b" name="q7" value="goal" data-type="goal" data-label="Money/financial stability"><label class="option-label" for="q7b">Money or financial stability</label></li>
                <li class="option-item"><input type="checkbox" id="q7c" name="q7" value="quest" data-type="quest" data-label="Comfort and predictability"><label class="option-label" for="q7c">Comfort and predictability</label></li>
                <li class="option-item"><input type="checkbox" id="q7d" name="q7" value="quest" data-type="quest" data-label="How others see me"><label class="option-label" for="q7d">How others see me</label></li>
                <li class="option-item"><input type="checkbox" id="q7e" name="q7" value="hero" data-type="hero" data-label="Sense of who I've been"><label class="option-label" for="q7e">A sense of who I've been</label></li>
                <li class="option-item"><input type="checkbox" id="q7f" name="q7" value="hero" data-type="hero" data-label="Relationships"><label class="option-label" for="q7f">A relationship or relationships</label></li>
                <li class="option-item"><input type="checkbox" id="q7g" name="q7" value="quest" data-type="quest" data-label="Fallback options"><label class="option-label" for="q7g">My fallback options</label></li>
                <li class="option-item"><input type="checkbox" id="q7h" name="q7" value="hero" data-type="hero" data-label="Something I can't name"><label class="option-label" for="q7h">Something I can't fully name yet</label></li>
            </ul>
        </div>

        <div id="q8" class="question-section single-select" data-question="8">
            <div class="question-number">Question 8</div>
            <div class="question-text">When you imagine the timeline for this:</div>
            <div class="question-instruction">Select one</div>
            <ul class="options-list">
                <li class="option-item"><input type="radio" id="q8a" name="q8" value="goal" data-type="goal" data-label="Weeks to months, clear end"><label class="option-label" for="q8a">Weeks to a few months‚Äîit has a clear end point</label></li>
                <li class="option-item"><input type="radio" id="q8b" name="q8" value="goal" data-type="goal" data-label="6-12 months with phases"><label class="option-label" for="q8b">Six months to a year, with distinct phases</label></li>
                <li class="option-item"><input type="radio" id="q8c" name="q8" value="quest" data-type="quest" data-label="Year or more, longer arc"><label class="option-label" for="q8c">A year or more‚Äîit's a longer arc</label></li>
                <li class="option-item"><input type="radio" id="q8d" name="q8" value="hero" data-type="hero" data-label="However long it takes"><label class="option-label" for="q8d">"However long it takes"‚Äîthis isn't something I can put a deadline on</label></li>
                <li class="option-item"><input type="radio" id="q8e" name="q8" value="quest" data-type="quest" data-label="Don't know‚Äîtoo many unknowns"><label class="option-label" for="q8e">I genuinely don't know‚Äîit depends on too many unknowns</label></li>
            </ul>
        </div>

        <div id="q9" class="question-section" data-question="9">
            <div class="question-number">Question 9</div>
            <div class="question-text">Why this? Why now?</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q9a" name="q9" value="goal" data-type="goal" data-label="Logical next step"><label class="option-label" for="q9a">It's a logical next step in my life or career</label></li>
                <li class="option-item"><input type="checkbox" id="q9b" name="q9" value="quest" data-type="quest" data-label="Thinking about it, timing right"><label class="option-label" for="q9b">I've been thinking about this for a while and the timing feels right</label></li>
                <li class="option-item"><input type="checkbox" id="q9c" name="q9" value="goal" data-type="goal" data-label="Opportunity appeared"><label class="option-label" for="q9c">An opportunity appeared and I want to take it</label></li>
                <li class="option-item"><input type="checkbox" id="q9d" name="q9" value="hero" data-type="hero" data-label="Something shifted‚Äîcrisis/realization"><label class="option-label" for="q9d">Something shifted‚Äîa crisis, a realization, a door closing</label></li>
                <li class="option-item"><input type="checkbox" id="q9e" name="q9" value="hero" data-type="hero" data-label="Won't leave me alone‚Äîcalling"><label class="option-label" for="q9e">It won't leave me alone‚Äîit feels like something I have to do</label></li>
                <li class="option-item"><input type="checkbox" id="q9f" name="q9" value="quest" data-type="quest" data-label="Not sure, something pulling me"><label class="option-label" for="q9f">I'm not entirely sure, but something is pulling me toward it</label></li>
            </ul>
        </div>

        <div id="q10" class="question-section" data-question="10">
            <div class="question-number">Question 10</div>
            <div class="question-text">What kind of support do you think you'll need?</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q10a" name="q10" value="exec" data-type="execution" data-label="Accountability"><label class="option-label" for="q10a">Accountability‚Äîsomeone to keep me on track</label></li>
                <li class="option-item"><input type="checkbox" id="q10b" name="q10" value="exec" data-type="execution" data-label="Clear system/structure"><label class="option-label" for="q10b">A clear system or structure to follow</label></li>
                <li class="option-item"><input type="checkbox" id="q10c" name="q10" value="nav" data-type="navigation" data-label="Guidance from someone experienced"><label class="option-label" for="q10c">Guidance from someone who's done something like this</label></li>
                <li class="option-item"><input type="checkbox" id="q10d" name="q10" value="goal" data-type="goal" data-label="Help with skills/knowledge"><label class="option-label" for="q10d">Help with specific skills or knowledge gaps</label></li>
                <li class="option-item"><input type="checkbox" id="q10e" name="q10" value="nav" data-type="navigation" data-label="Someone to think through decisions"><label class="option-label" for="q10e">Someone to think through decisions with</label></li>
                <li class="option-item"><input type="checkbox" id="q10f" name="q10" value="trans" data-type="transformation" data-label="Space to process emotional side"><label class="option-label" for="q10f">A space to process the emotional side of this</label></li>
                <li class="option-item"><input type="checkbox" id="q10g" name="q10" value="trans" data-type="transformation" data-label="People who won't let me hide"><label class="option-label" for="q10g">People who won't let me hide from myself</label></li>
                <li class="option-item"><input type="checkbox" id="q10h" name="q10" value="quest" data-type="quest" data-label="Not sure yet"><label class="option-label" for="q10h">I'm not sure yet‚ÄîI might not know until I'm in it</label></li>
            </ul>
        </div>

        <div id="q11" class="question-section" data-question="11">
            <div class="question-number">Question 11</div>
            <div class="question-text">When you imagine yourself struggling with this, what does that look like?</div>
            <div class="question-instruction">Select up to three</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q11a" name="q11" value="exec" data-type="execution" data-label="Procrastinating, avoiding"><label class="option-label" for="q11a">Procrastinating, avoiding, not doing the thing I said I'd do</label></li>
                <li class="option-item"><input type="checkbox" id="q11b" name="q11" value="exec" data-type="execution" data-label="Distracted, scattered"><label class="option-label" for="q11b">Getting distracted, scattered, losing focus</label></li>
                <li class="option-item"><input type="checkbox" id="q11c" name="q11" value="nav" data-type="navigation" data-label="Working on wrong things"><label class="option-label" for="q11c">Working hard but on the wrong things</label></li>
                <li class="option-item"><input type="checkbox" id="q11d" name="q11" value="nav" data-type="navigation" data-label="Overthinking, not acting"><label class="option-label" for="q11d">Overthinking, researching endlessly, not acting</label></li>
                <li class="option-item"><input type="checkbox" id="q11e" name="q11" value="nav" data-type="navigation" data-label="Paralyzed by options"><label class="option-label" for="q11e">Feeling paralyzed by too many options</label></li>
                <li class="option-item"><input type="checkbox" id="q11f" name="q11" value="trans" data-type="transformation" data-label="Doubting capability"><label class="option-label" for="q11f">Doubting whether I'm capable of this</label></li>
                <li class="option-item"><input type="checkbox" id="q11g" name="q11" value="trans" data-type="transformation" data-label="Doubting right thing"><label class="option-label" for="q11g">Doubting whether this is even the right thing to pursue</label></li>
                <li class="option-item"><input type="checkbox" id="q11h" name="q11" value="trans" data-type="transformation" data-label="Losing hope"><label class="option-label" for="q11h">Losing hope when results don't come</label></li>
                <li class="option-item"><input type="checkbox" id="q11i" name="q11" value="trans" data-type="transformation" data-label="Stories about why won't work"><label class="option-label" for="q11i">Telling myself stories about why it won't work</label></li>
                <li class="option-item"><input type="checkbox" id="q11j" name="q11" value="trans" data-type="transformation" data-label="Hiding from feedback"><label class="option-label" for="q11j">Hiding from feedback or outside perspectives</label></li>
            </ul>
        </div>

        <div id="q12" class="question-section single-select" data-question="12">
            <div class="question-number">Question 12</div>
            <div class="question-text">Which of these feels more true?</div>
            <div class="question-instruction">Select one</div>
            <ul class="options-list">
                <li class="option-item"><input type="radio" id="q12a" name="q12" value="exec" data-type="execution" data-label="Know what to do, struggle to do it"><label class="option-label" for="q12a">I mostly know what to do‚ÄîI struggle to make myself do it</label></li>
                <li class="option-item"><input type="radio" id="q12b" name="q12" value="nav" data-type="navigation" data-label="Could do work, unsure it's right"><label class="option-label" for="q12b">I could probably force myself to do the work‚ÄîI'm less sure I'm working on the right things</label></li>
                <li class="option-item"><input type="radio" id="q12c" name="q12" value="both" data-type="both" data-label="Both, depending on day"><label class="option-label" for="q12c">Both feel true, depending on the day</label></li>
                <li class="option-item"><input type="radio" id="q12d" name="q12" value="neither" data-type="neither" data-label="Neither‚Äîsomething else"><label class="option-label" for="q12d">Neither‚Äîmy struggle is something else</label></li>
            </ul>
        </div>

        <div id="q13" class="question-section" data-question="13">
            <div class="question-number">Question 13</div>
            <div class="question-text">When things get hard, what tends to happen inside you?</div>
            <div class="question-instruction">Select all that apply</div>
            <ul class="options-list">
                <li class="option-item"><input type="checkbox" id="q13a" name="q13" value="trans" data-type="transformation" data-label="Critical of self"><label class="option-label" for="q13a">I get critical of myself‚Äî"I should be further along"</label></li>
                <li class="option-item"><input type="checkbox" id="q13b" name="q13" value="trans" data-type="transformation" data-label="Question whole endeavor"><label class="option-label" for="q13b">I start questioning the whole endeavor</label></li>
                <li class="option-item"><input type="checkbox" id="q13c" name="q13" value="trans" data-type="transformation" data-label="Compare to others"><label class="option-label" for="q13c">I compare myself to others and come up short</label></li>
                <li class="option-item"><input type="checkbox" id="q13d" name="q13" value="trans" data-type="transformation" data-label="Feel alone, misunderstood"><label class="option-label" for="q13d">I feel alone, like no one understands what I'm trying to do</label></li>
                <li class="option-item"><input type="checkbox" id="q13e" name="q13" value="trans" data-type="transformation" data-label="Lose access to why"><label class="option-label" for="q13e">I lose access to why this mattered in the first place</label></li>
                <li class="option-item"><input type="checkbox" id="q13f" name="q13" value="trans" data-type="transformation" data-label="Lower expectations"><label class="option-label" for="q13f">I lower my expectations to protect myself from disappointment</label></li>
                <li class="option-item"><input type="checkbox" id="q13g" name="q13" value="exec" data-type="execution" data-label="Productive avoidance"><label class="option-label" for="q13g">I get busy with other things‚Äîproductive avoidance</label></li>
                <li class="option-item"><input type="checkbox" id="q13h" name="q13" value="trans" data-type="transformation" data-label="Shut down, go quiet"><label class="option-label" for="q13h">I shut down and go quiet</label></li>
                <li class="option-item"><input type="checkbox" id="q13i" name="q13" value="exec" data-type="execution" data-label="Push harder even when not working"><label class="option-label" for="q13i">I push harder, even when it's not working</label></li>
            </ul>
        </div>

        <div id="q14" class="question-section single-select" data-question="14">
            <div class="question-number">Question 14</div>
            <div class="question-text">Which of these statements resonates most?</div>
            <div class="question-instruction">Select one</div>
            <ul class="options-list">
                <li class="option-item"><input type="radio" id="q14a" name="q14" value="exec" data-type="execution" data-label="Challenge is doing"><label class="option-label" for="q14a">My challenge is mostly about doing‚Äîexecution, habits, discipline</label></li>
                <li class="option-item"><input type="radio" id="q14b" name="q14" value="nav" data-type="navigation" data-label="Challenge is navigating"><label class="option-label" for="q14b">My challenge is mostly about navigating‚Äîdecisions, direction, uncertainty</label></li>
                <li class="option-item"><input type="radio" id="q14c" name="q14" value="trans" data-type="transformation" data-label="Challenge is becoming"><label class="option-label" for="q14c">My challenge is mostly about becoming‚Äîbeliefs, identity, inner work</label></li>
                <li class="option-item"><input type="radio" id="q14d" name="q14" value="all" data-type="all" data-label="All three"><label class="option-label" for="q14d">It's all three, honestly</label></li>
            </ul>
        </div>

        <div class="nav-buttons" id="nav-buttons" style="display: none;">
            <button class="btn btn-back" id="btn-back" onclick="prevQuestion()">Back</button>
            <button class="btn btn-next" id="btn-next" onclick="nextQuestion()">Continue</button>
        </div>

        <div id="results" class="results-section">
            <div class="result-type">
                <div class="result-label">Your Journey Type</div>
                <h2 class="result-title" id="result-title">You're On a Quest</h2>
                <p class="result-subtitle" id="result-subtitle">What you're undertaking has the structure of a quest, not a goal.</p>
            </div>

            <div class="result-card">
                <h3>Understanding the Framework</h3>
                <p>Before we dive into your results, here's the key insight: <strong>every quest contains goals, but not every goal is a quest.</strong></p>
                <div class="explainer-box">
                    <p><strong>A Goal</strong> is a specific outcome you can define, plan, and achieve. The path is visible, the end is measurable. You're like a tourist with a good map.</p>
                    <p style="margin-top: 0.75rem;"><strong>A Quest</strong> is a longer journey where the destination may be clear but the path is not. You'll discover the territory as you go‚Äîand discover yourself in the process. You're an explorer making the map.</p>
                    <p style="margin-top: 0.75rem;"><strong>A Hero's Journey</strong> goes deeper still. Something is calling you that won't let go, and you sense you can't get there as who you currently are. This is the territory of transformation.</p>
                </div>
            </div>

            <div class="result-card">
                <h3>What This Means</h3>
                <p id="result-meaning">Loading...</p>
            </div>

            <div class="result-card">
                <h3>Your Scores</h3>
                <div class="score-bars">
                    <div class="score-bar-item">
                        <span class="score-bar-label">Goal</span>
                        <div class="score-bar-track"><div class="score-bar-fill" id="goal-bar" style="width: 0%"></div></div>
                        <span class="score-bar-value" id="goal-percent">0%</span>
                    </div>
                    <div class="score-bar-item">
                        <span class="score-bar-label">Quest</span>
                        <div class="score-bar-track"><div class="score-bar-fill" id="quest-bar" style="width: 0%"></div></div>
                        <span class="score-bar-value" id="quest-percent">0%</span>
                    </div>
                    <div class="score-bar-item">
                        <span class="score-bar-label">Hero's Journey</span>
                        <div class="score-bar-track"><div class="score-bar-fill" id="hero-bar" style="width: 0%"></div></div>
                        <span class="score-bar-value" id="hero-percent">0%</span>
                    </div>
                </div>
                <p style="font-size: 0.9rem; color: var(--muted);">Most people's results show a blend‚Äîthat's normal. The question is: which mode dominates your undertaking?</p>
            </div>

            <div class="result-card">
                <h3>Where Your Struggle Lives</h3>
                <p id="struggle-intro">Based on your answers:</p>
                <div class="score-bars">
                    <div class="score-bar-item">
                        <span class="score-bar-label">Execution</span>
                        <div class="score-bar-track"><div class="score-bar-fill" id="exec-bar" style="width: 0%"></div></div>
                        <span class="score-bar-value" id="exec-percent">0%</span>
                    </div>
                    <div class="score-bar-item">
                        <span class="score-bar-label">Navigation</span>
                        <div class="score-bar-track"><div class="score-bar-fill" id="nav-bar" style="width: 0%"></div></div>
                        <span class="score-bar-value" id="nav-percent">0%</span>
                    </div>
                    <div class="score-bar-item">
                        <span class="score-bar-label">Transformation</span>
                        <div class="score-bar-track"><div class="score-bar-fill" id="trans-bar" style="width: 0%"></div></div>
                        <span class="score-bar-value" id="trans-percent">0%</span>
                    </div>
                </div>
                <div class="explainer-box">
                    <p><strong>Execution</strong> = The challenge of doing. Focus, discipline, consistency, showing up. You often know what to do‚Äîthe struggle is making yourself do it.</p>
                    <p style="margin-top: 0.75rem;"><strong>Navigation</strong> = The challenge of deciding. Direction, clarity, wayfinding through uncertainty. You could probably force yourself to work‚Äîyou're less sure you're working on the right things.</p>
                    <p style="margin-top: 0.75rem;"><strong>Transformation</strong> = The challenge of becoming. Beliefs, identity, inner work. The external obstacles may be real, but the deeper friction is internal.</p>
                </div>
                <p id="struggle-meaning" style="margin-top: 1rem;">Loading...</p>
            </div>

            <div class="result-card">
                <h3>What This Means for You</h3>
                <p id="result-implications">Loading...</p>
                <div class="key-insight" id="key-insight">Loading...</div>
            </div>

            <div class="what-now">
                <h3>What Now?</h3>
                <p id="what-now-intro">Loading...</p>
                <div class="action-step" id="action-step">
                    <strong>Your first step:</strong>
                    <span id="action-step-text">Loading...</span>
                </div>
            </div>

            <div class="closing-message">
                <p id="closing-text">"You're not failing. You're just on a quest."</p>
                <div class="tagline">Now you know. Let's get to work.</div>
            </div>

            <!-- Save Results Button - NEW -->
            <div class="save-buttons">
                <button class="btn btn-save" onclick="window.print()">üìÑ Save Results as PDF</button>
            </div>

            <form id="anonymous-data-form" action="https://formspree.io/f/mdaklgzp" method="POST" style="display: none;">
                <input type="hidden" name="journey_type" id="form-journey-type">
                <input type="hidden" name="goal_score" id="form-goal-score">
                <input type="hidden" name="quest_score" id="form-quest-score">
                <input type="hidden" name="hero_score" id="form-hero-score">
                <input type="hidden" name="execution_score" id="form-exec-score">
                <input type="hidden" name="navigation_score" id="form-nav-score">
                <input type="hidden" name="transformation_score" id="form-trans-score">
                <input type="hidden" name="struggle_type" id="form-struggle-type">
                <input type="hidden" name="quest_description" id="form-quest-description">
                <input type="hidden" name="all_answers" id="form-all-answers">
            </form>

            <div class="email-capture">
                <h3>This is just the beginning</h3>
                <p>I'm developing a program specifically designed for people on quests‚Äînot another goal-setting course, but real preparation for the journey ahead.</p>
                <p style="font-size: 0.9rem; color: var(--muted);">Join the early interest list to be the first to know when it opens, and to help shape what it becomes.</p>
                <script src="https://f.convertkit.com/ckjs/ck.5.js"></script>
                <form action="https://app.kit.com/forms/8933714/subscriptions" class="seva-form formkit-form" method="post" data-sv-form="8933714" data-uid="66419c3108" data-format="inline" data-version="5"><div data-style="clean"><ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert"></ul><div data-element="fields" data-stacked="false" class="seva-fields formkit-fields"><div class="formkit-field"><input class="formkit-input" name="email_address" aria-label="Email Address" placeholder="Email Address" required="" type="email" style="color: rgb(0, 0, 0); border-color: rgb(227, 227, 227); border-radius: 4px; font-weight: 400;"></div><button data-element="submit" class="formkit-submit formkit-submit" style="color: rgb(255, 255, 255); background-color: rgb(76, 19, 89); border-radius: 4px; font-weight: 400;"><div class="formkit-spinner"><div></div><div></div><div></div></div><span class="">I'm Interested!</span></button></div></div></form>
                <p class="privacy-note">No spam, ever. Just occasional updates about the journey ahead. Unsubscribe anytime. <a href="privacy.html">Privacy Policy</a></p>
            </div>

            <button class="btn btn-retake" onclick="retakeQuiz()">Retake the Diagnostic</button>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        const totalQuestions = 15;
        let scores = { goal: 0, quest: 0, hero: 0, execution: 0, navigation: 0, transformation: 0 };

        const journeyResults = {
            goal: { title: "This Looks Like a Goal", subtitle: "What you're pursuing has the structure of a goal or project‚Äîclear, achievable, and plannable.", meaning: "A goal is a specific outcome you can define, measure, and achieve with the right effort and discipline. The path is largely visible, the obstacles are knowable, and you're essentially the right person to do this‚Äîyou just need to execute.", implications: "You can use traditional project management and goal-setting tools here. Break it down, set milestones, find accountability, and execute. The main risk is inconsistency‚Äînot showing up.", keyInsight: "Success here is mostly about consistency. The gap between where you are and where you want to be is crossable with sustained effort and the right structure.", whatNowIntro: "For goals, the path forward is usually clear‚Äîyou just need to walk it.", actionStep: "Identify the single most important next action and schedule it. Then find an accountability partner or system to help you stay consistent.", closing: "The path is clear. Now walk it." },
            quest: { title: "You're On a Quest", subtitle: "What you're undertaking has the structure of a quest‚Äîa longer journey through uncertain territory.", meaning: "A quest contains many goals, but it's more than any single goal. The destination may be somewhat clear, but the path is not. You'll encounter obstacles you can't predict, and some of them will require you to grow and adapt.", implications: "Traditional goal-setting tools will help, but they're not enough. You need ways to navigate uncertainty, make decisions with incomplete information, and stay connected to why this matters when the path gets murky.", keyInsight: "On a quest, 'failure' looks different. Testing things that don't work isn't failing‚Äîit's navigation. The real risk is standing still, or using all your energy on busy work that doesn't move you forward.", whatNowIntro: "For quests, the first step isn't always obvious‚Äîand that's okay.", actionStep: "Instead of planning the whole path, identify one small experiment you can run in the next week to learn something you don't currently know about your quest.", closing: "You're not failing. You're on a quest." },
            hero: { title: "You're Answering a Deeper Call", subtitle: "What you're pursuing has the structure of a hero's journey‚Äîa transformational passage that will remake you.", meaning: "This isn't just about getting somewhere or even about the journey. It's about who you'll become. Something is calling you that won't let go, and you sense‚Äîeven if you can't fully articulate it‚Äîthat you can't get there as who you currently are.", implications: "This journey will break you open, and that's not a bug‚Äîit's a feature. The obstacles aren't just things to overcome; they're the very mechanisms of your transformation. You'll need allies who can see you clearly, who won't let you hide from yourself.", keyInsight: "The call is real, even when you can't fully explain it. The discomfort you feel isn't a sign that something is wrong‚Äîit's a sign that something is trying to emerge.", whatNowIntro: "For hero's journeys, the first step is often internal, not external.", actionStep: "Find one person who can witness your journey without trying to fix it‚Äîsomeone who can simply be present as you navigate this passage. You don't have to do this alone.", closing: "The call is real. Answer it." },
            mixed: { title: "Your Journey Has Multiple Layers", subtitle: "What you're pursuing has elements of both quest and deeper transformation.", meaning: "Your scores suggest this isn't a simple goal, but something more complex‚Äîpart quest, part hero's journey. This is common for significant life undertakings.", implications: "You'll need to work on multiple levels: the practical decisions and navigation of the outer journey, and the beliefs, identity, and inner work of the transformation. Neither can be skipped.", keyInsight: "Sometimes you need to solve the practical problem. Sometimes you need to sit with the inner one. Learning to discern which is which‚Äîthat's the skill to develop.", whatNowIntro: "For layered journeys, balance is key‚Äîbut not equal balance at all times.", actionStep: "Ask yourself: right now, is the block more external (I don't know what to do) or internal (something in me is resisting)? That tells you which layer to attend to first.", closing: "The journey is the destination." }
        };

        const struggleResults = {
            execution: { intro: "Your primary struggle appears to be around execution.", meaning: "You often know what to do‚Äîthe challenge is making yourself do it. Focus, discipline, momentum, and consistency are where you get stuck." },
            navigation: { intro: "Your primary struggle appears to be around navigation.", meaning: "You could probably force yourself to work‚Äîbut you're less sure you're working on the right things. Decision fatigue, uncertainty, and the question of 'what should I actually do?' are where you get stuck." },
            transformation: { intro: "Your primary struggle appears to be around inner work.", meaning: "The external challenges may be real, but the deeper friction is internal‚Äîbeliefs, self-doubt, identity, hope." },
            mixed: { intro: "Your struggle spans multiple dimensions.", meaning: "You're navigating challenges in execution, direction, and inner work simultaneously. This is typical of quests‚Äîthe layers compound." }
        };

        function startQuiz() {
            document.getElementById('intro').classList.remove('active');
            document.getElementById('progress-container').style.display = 'block';
            document.getElementById('nav-buttons').style.display = 'flex';
            showQuestion(0);
        }

        function showQuestion(num) {
            document.querySelectorAll('.question-section').forEach(q => q.classList.remove('active'));
            const questionEl = document.getElementById('q' + num);
            if (questionEl) questionEl.classList.add('active');
            currentQuestion = num;
            updateProgress();
            updateNavButtons();
        }

        function updateProgress() {
            const percent = ((currentQuestion + 1) / totalQuestions) * 100;
            document.getElementById('progress-fill').style.width = percent + '%';
            document.getElementById('current-q').textContent = currentQuestion + 1;
        }

        function updateNavButtons() {
            const backBtn = document.getElementById('btn-back');
            const nextBtn = document.getElementById('btn-next');
            if (currentQuestion <= 0) backBtn.classList.add('btn-hidden'); else backBtn.classList.remove('btn-hidden');
            if (currentQuestion >= 14) nextBtn.textContent = 'See My Results'; else nextBtn.textContent = 'Continue';
        }

        function nextQuestion() {
            if (currentQuestion >= 14) { calculateResults(); showResults(); } else { showQuestion(currentQuestion + 1); }
        }

        function prevQuestion() { if (currentQuestion > 0) showQuestion(currentQuestion - 1); }

        function calculateResults() {
            scores = { goal: 0, quest: 0, hero: 0, execution: 0, navigation: 0, transformation: 0 };
            document.querySelectorAll('.question-section:not(#q0) input:checked').forEach(input => {
                const type = input.dataset.type;
                if (type === 'goal') scores.goal++;
                if (type === 'quest') scores.quest++;
                if (type === 'hero') scores.hero++;
                if (type === 'execution') scores.execution++;
                if (type === 'navigation') scores.navigation++;
                if (type === 'transformation') scores.transformation++;
            });
        }

        function collectAllAnswers() {
            const answers = {};
            answers.quest_description = document.getElementById('quest-description').value || '(not provided)';
            for (let i = 1; i <= 14; i++) {
                const questionEl = document.getElementById('q' + i);
                if (questionEl) {
                    const checked = questionEl.querySelectorAll('input:checked');
                    const labels = [];
                    checked.forEach(input => labels.push(input.dataset.label || input.value));
                    answers['q' + i] = labels.join('; ') || '(no selection)';
                }
            }
            return answers;
        }

        function showResults() {
            document.querySelectorAll('.question-section').forEach(q => q.classList.remove('active'));
            document.getElementById('progress-container').style.display = 'none';
            document.getElementById('nav-buttons').style.display = 'none';

            const journeyTotal = scores.goal + scores.quest + scores.hero;
            const goalPercent = journeyTotal > 0 ? Math.round((scores.goal / journeyTotal) * 100) : 0;
            const questPercent = journeyTotal > 0 ? Math.round((scores.quest / journeyTotal) * 100) : 0;
            const heroPercent = journeyTotal > 0 ? Math.round((scores.hero / journeyTotal) * 100) : 0;

            const struggleTotal = scores.execution + scores.navigation + scores.transformation;
            const execPercent = struggleTotal > 0 ? Math.round((scores.execution / struggleTotal) * 100) : 0;
            const navPercent = struggleTotal > 0 ? Math.round((scores.navigation / struggleTotal) * 100) : 0;
            const transPercent = struggleTotal > 0 ? Math.round((scores.transformation / struggleTotal) * 100) : 0;

            let journeyType = 'quest';
            if (scores.goal > scores.quest && scores.goal > scores.hero) journeyType = 'goal';
            else if (scores.hero > scores.goal && scores.hero >= scores.quest) journeyType = 'hero';
            else if (scores.quest >= scores.goal && scores.quest >= scores.hero) journeyType = 'quest';
            
            const maxJourney = Math.max(scores.goal, scores.quest, scores.hero);
            const journeyScores = [scores.goal, scores.quest, scores.hero].filter(s => s >= maxJourney * 0.7);
            if (journeyScores.length > 1 && journeyType !== 'goal') journeyType = 'mixed';

            let struggleType = 'mixed';
            if (scores.execution > scores.navigation && scores.execution > scores.transformation) struggleType = 'execution';
            else if (scores.navigation > scores.execution && scores.navigation > scores.transformation) struggleType = 'navigation';
            else if (scores.transformation > scores.execution && scores.transformation > scores.navigation) struggleType = 'transformation';

            const result = journeyResults[journeyType];
            const struggle = struggleResults[struggleType];

            document.getElementById('result-title').textContent = result.title;
            document.getElementById('result-subtitle').textContent = result.subtitle;
            document.getElementById('result-meaning').textContent = result.meaning;
            document.getElementById('result-implications').textContent = result.implications;
            document.getElementById('key-insight').textContent = result.keyInsight;
            document.getElementById('what-now-intro').textContent = result.whatNowIntro;
            document.getElementById('action-step-text').textContent = result.actionStep;
            document.getElementById('closing-text').textContent = '"' + result.closing + '"';
            document.getElementById('struggle-intro').textContent = struggle.intro;
            document.getElementById('struggle-meaning').textContent = struggle.meaning;

            setTimeout(() => {
                document.getElementById('goal-bar').style.width = goalPercent + '%';
                document.getElementById('quest-bar').style.width = questPercent + '%';
                document.getElementById('hero-bar').style.width = heroPercent + '%';
                document.getElementById('exec-bar').style.width = execPercent + '%';
                document.getElementById('nav-bar').style.width = navPercent + '%';
                document.getElementById('trans-bar').style.width = transPercent + '%';
            }, 100);

            document.getElementById('goal-percent').textContent = goalPercent + '%';
            document.getElementById('quest-percent').textContent = questPercent + '%';
            document.getElementById('hero-percent').textContent = heroPercent + '%';
            document.getElementById('exec-percent').textContent = execPercent + '%';
            document.getElementById('nav-percent').textContent = navPercent + '%';
            document.getElementById('trans-percent').textContent = transPercent + '%';

            const allAnswers = collectAllAnswers();
            document.getElementById('form-journey-type').value = journeyType;
            document.getElementById('form-goal-score').value = goalPercent;
            document.getElementById('form-quest-score').value = questPercent;
            document.getElementById('form-hero-score').value = heroPercent;
            document.getElementById('form-exec-score').value = execPercent;
            document.getElementById('form-nav-score').value = navPercent;
            document.getElementById('form-trans-score').value = transPercent;
            document.getElementById('form-struggle-type').value = struggleType;
            document.getElementById('form-quest-description').value = allAnswers.quest_description;
            document.getElementById('form-all-answers').value = JSON.stringify(allAnswers);

            document.getElementById('results').classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            submitAnonymousData();
        }
        
        function submitAnonymousData() {
            const form = document.getElementById('anonymous-data-form');
            const data = {
                journey_type: document.getElementById('form-journey-type').value,
                goal_score: document.getElementById('form-goal-score').value,
                quest_score: document.getElementById('form-quest-score').value,
                hero_score: document.getElementById('form-hero-score').value,
                execution_score: document.getElementById('form-exec-score').value,
                navigation_score: document.getElementById('form-nav-score').value,
                transformation_score: document.getElementById('form-trans-score').value,
                struggle_type: document.getElementById('form-struggle-type').value,
                quest_description: document.getElementById('form-quest-description').value,
                all_answers: document.getElementById('form-all-answers').value
            };
            fetch(form.action, { 
                method: 'POST', 
                body: JSON.stringify(data), 
                headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' } 
            })
            .then(response => console.log('Anonymous data submitted successfully'))
            .catch(error => console.log('Data submission error (non-critical):', error));
        }

        function retakeQuiz() {
            document.querySelectorAll('.question-section input').forEach(input => {
                if (input.type === 'checkbox' || input.type === 'radio') input.checked = false;
                else input.value = '';
            });
            scores = { goal: 0, quest: 0, hero: 0, execution: 0, navigation: 0, transformation: 0 };
            document.getElementById('results').classList.remove('active');
            document.getElementById('intro').classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.querySelectorAll('#q5 input, #q11 input').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const parent = this.closest('.question-section');
                const checked = parent.querySelectorAll('input:checked');
                if (checked.length > 3) this.checked = false;
            });
        });
    </script>
</body>
</html>
